# =============================================================================
# RAG AI Chatbot - Environment Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Provider Settings
# -----------------------------------------------------------------------------
# Options: lmstudio, ollama, openai
# Use "lmstudio" for remote LM Studio via ngrok
# Use "ollama" for local containerized Ollama
LLM__PROVIDER=lmstudio

# LM Studio Settings (Remote via ngrok)
# Your LM Studio instance running on another PC
LLM__LMSTUDIO__BASE_URL=https://45fe10225217.ngrok-free.app/v1
LLM__LMSTUDIO__MODEL=deepseek-coder-v2-lite-instruct

# Ollama Settings (Containerized fallback)
LLM__OLLAMA__BASE_URL=http://ollama:11434
LLM__OLLAMA__MODEL=mistral:latest

# Common LLM Settings
LLM__TEMPERATURE=0.35
LLM__MAX_TOKENS=4096
LLM__TIMEOUT=120.0
LLM__CONTEXT_WINDOW=8000

# Embedding Provider Settings
# Use lmstudio for remote LM Studio embeddings
EMBEDDING_PROVIDER=lmstudio
EMBEDDING_MODEL=text-embedding-nomic-embed-text-v1.5

# RAG / Vector Store Settings
RAG__PROVIDER=chromadb
RAG__CHROMA_DB_PATH=./data/chroma
RAG__EMBEDDING_MODEL=text-embedding-nomic-embed-text-v1.5

# Small Model RAG Optimization
RAG__RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RAG__RERANKER_ENABLED=true
RAG__INITIAL_FETCH_K=30
RAG__RERANK_TOP_K=5
RAG__MMR_LAMBDA=0.5
RAG__CONTEXT_TOKEN_BUDGET=1000
RAG__MIN_CONFIDENCE_THRESHOLD=0.3

# Hybrid Search (BM25 + Vector)
RAG__BM25_ENABLED=true
RAG__BM25_WEIGHT=0.4
RAG__VECTOR_WEIGHT=0.6
RAG__BM25_PERSIST_PATH=./data/bm25

# Knowledge Graph
RAG__KNOWLEDGE_GRAPH_ENABLED=true
RAG__KG_EXPANSION_DEPTH=2
RAG__KG_PERSIST_PATH=./data/knowledge_graphs
RAG__ENTITY_EXTRACTION_MODEL=mistral:latest

# Answer Verification & Citation
RAG__VERIFICATION_ENABLED=true
RAG__CITATION_REQUIRED=true
RAG__MIN_CITATION_COVERAGE=0.7

# Session / Memory Settings
SESSION__MAX_TOKENS=2500
SESSION__MAX_MESSAGES=15
SESSION__SLIDING_WINDOW_TURNS=3
SESSION__EPISODIC_MEMORY_ENABLED=true
SESSION__RUNNING_SUMMARY_ENABLED=true

# Redis Settings
REDIS__URL=redis://localhost:6379
REDIS__SESSION_TTL=86400
REDIS__CACHE_TTL=3600

# MySQL Settings
MYSQL__HOST=localhost
MYSQL__PORT=3306
MYSQL__DATABASE=audit_logs
MYSQL__USER=root
MYSQL__PASSWORD=Sarita1!@2024_4
MYSQL__POOL_SIZE=5

# JWT Authentication
JWT__SECRET_KEY=change-me-in-production-use-strong-secret
JWT__ALGORITHM=HS256
JWT__ACCESS_TOKEN_EXPIRE_MINUTES=30

# Server Settings
SERVER__HOST=0.0.0.0
SERVER__PORT=8000

# Logging
LOGGING__LEVEL=INFO
LOGGING__LOG_DIR=./logs
LOGGING__JSON_FORMAT=true

# Evaluation
EVALUATION__SCHEDULER_ENABLED=true

# Monitoring
MONITORING__METRICS_ENABLED=true
