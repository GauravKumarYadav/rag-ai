# =============================================================================
# RAG AI Chatbot - Production Configuration (Oracle Cloud)
# =============================================================================
# Copy to .env on the server:  cp .env.production.example .env
# Then edit with your actual keys: nano .env
# =============================================================================

# -----------------------------------------------------------------------------
# LLM Settings (Groq — remote API for cloud deployment)
# -----------------------------------------------------------------------------
LLM__PROVIDER=groq
LLM__GROQ__BASE_URL=https://api.groq.com/openai/v1
LLM__GROQ__MODEL=llama-3.3-70b-versatile
LLM__GROQ__API_KEY=your-groq-api-key-here
LLM__TEMPERATURE=0.35
LLM__MAX_TOKENS=4096
LLM__CONTEXT_WINDOW=32000

# -----------------------------------------------------------------------------
# Embedding Settings
# -----------------------------------------------------------------------------
EMBEDDING_PROVIDER=auto
EMBEDDING_MODEL=text-embedding-nomic-embed-text-v1.5

# -----------------------------------------------------------------------------
# RAG Settings (internal Docker network URLs)
# -----------------------------------------------------------------------------
RAG__PROVIDER=chromadb
RAG__URL=http://chromadb:8000
RAG__RERANKER_ENABLED=true
RAG__RERANKER_MODEL=cross-encoder/ms-marco-MiniLM-L-6-v2
RAG__BM25_ENABLED=true
RAG__BM25_PERSIST_PATH=./data/bm25
RAG__INITIAL_FETCH_K=30
RAG__RERANK_TOP_K=5
RAG__MMR_LAMBDA=0.5

# -----------------------------------------------------------------------------
# Redis Settings (internal Docker network)
# -----------------------------------------------------------------------------
REDIS__URL=redis://redis:6379
REDIS__SESSION_TTL=86400
REDIS__CACHE_TTL=3600

# -----------------------------------------------------------------------------
# Memory Settings
# -----------------------------------------------------------------------------
MEMORY__MAX_CONTEXT_TOKENS=4000
MEMORY__SUMMARY_TARGET_TOKENS=1000
MEMORY__SLIDING_WINDOW_SIZE=10

# -----------------------------------------------------------------------------
# Agent Settings
# -----------------------------------------------------------------------------
AGENT__ENABLED=true
AGENT__MAX_STEPS=10

# -----------------------------------------------------------------------------
# JWT Authentication (CHANGE THIS — use a strong random secret)
# Generate with: openssl rand -hex 32
# -----------------------------------------------------------------------------
JWT__SECRET_KEY=CHANGE-ME-generate-with-openssl-rand-hex-32
JWT__ALGORITHM=HS256
JWT__ACCESS_TOKEN_EXPIRE_MINUTES=60

# -----------------------------------------------------------------------------
# LangSmith Tracing (optional — leave empty to disable)
# -----------------------------------------------------------------------------
LANGCHAIN_TRACING_V2=false
LANGCHAIN_API_KEY=
LANGCHAIN_PROJECT=agentic-rag

# -----------------------------------------------------------------------------
# Server Settings
# -----------------------------------------------------------------------------
SERVER__HOST=0.0.0.0
SERVER__PORT=8000
LOGGING__LEVEL=INFO

# -----------------------------------------------------------------------------
# Frontend Settings (empty = same-origin via Nginx reverse proxy)
# -----------------------------------------------------------------------------
VITE_API_BASE_URL=
